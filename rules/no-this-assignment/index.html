---
description: Disallows unnecessary references to `this`.
optionExamples:
  - 'true'
  - '[true, {"allowed-names": ["^self$"], "allow-destructuring": true}]'
options:
  additionalProperties: false
  properties:
    allow-destructuring:
      type: boolean
    allowed-names:
      listType: string
      type: list
  type: object
optionsDescription: |-

  Two options may be provided on an object:

  * `allow-destructuring` allows using destructuring to access members of `this` (e.g. `{ foo, bar } = this;`).
  * `allowed-names` may be specified as a list of regular expressions to match allowed variable names.
rationale: |-

  Assigning a variable to `this` instead of properly using arrow lambdas may be a symptom of pre-ES6 practices
  or not managing scope well.

  Instead of storing a reference to `this` and using it inside a `function () {`:

  ```
  const self = this;

  setTimeout(function () {
      self.doWork();
  });
  ```

  Use `() =>` arrow lambdas, as they preserve `this` scope for you:

  ```
  setTimeout(() => {
      this.doWork();
  });
  ```
          
ruleName: no-this-assignment
type: functionality
typescriptOnly: false
layout: rule
title: 'Rule: no-this-assignment'
optionsJSON: |-
  {
    "additionalProperties": false,
    "properties": {
      "allow-destructuring": {
        "type": "boolean"
      },
      "allowed-names": {
        "listType": "string",
        "type": "list"
      }
    },
    "type": "object"
  }
---